<html>
<head>
<title>Accessible Opencast Video with Captions</title>
<script type="text/javascript" src="bridge/lib/FABridge.js"></script>
<script type="text/javascript" src="bridge/Videodisplay.js"></script>

<link rel="stylesheet" href="jquery/ui/css/base/ui.all.css"
    type="text/css">
<link rel="stylesheet" href="css/oc.player.css" type="text/css">
<script type="text/javascript" src="jquery/jquery-1.3.2.js"></script>
<script type="text/javascript" src="jquery/ui/ui.core.js"></script>
<script type="text/javascript" src="jquery/ui/ui.slider.js"></script>


<script language="javascript" type="text/javascript">
        function doPlay () {
            Videodisplay.play();
        }
            
        function doPause () {
            Videodisplay.pause();
        }
        
        function doStop () {
            Videodisplay.stop();
        }

        function doSeek (time) {
            Videodisplay.seek (time);
        }
        
        function doClosedCaptions (cc) {
            Videodisplay.closedCaptions (cc);
        }
        
        
		function setPlayhead (newPosition) {
            $('#slider').slider('value', newPosition);

            $('.matterhorn-progress-bar').css("width", newPosition/5 + "px");
        }

        function doSetVolume (value) {
           Videodisplay.setVolume(value);
        }

        function doSetLanguage (value) {

            Videodisplay.setLanguage (value);
        }
        
        function setTime (text) {
            document.getElementById("time").innerHTML = text;
		}

        function setDuration (time) {
            $('#slider').slider('option', 'max', time);
        }

        function setProgress (value) {
            document.getElementById("progress").innerHTML = value + "%";
        }

        function setCaptions (text) {
            document.getElementById("captions").innerHTML = text;
        }

        function setLangugageComboBox (languageComboBox) 
		{
			for(var i=0; i<languageComboBox.length; i++)
			{
				var option = document.createElement('option');
				option.text = languageComboBox[i];
				var cb_item = document.getElementById("cb_lang");
				try
		  		{
		  			cb_item.add(option,null); // standards compliant
		  		}
				catch(ex)
		  		{
		  			cb_item.add(option); // IE only
		  		}
			}
		}       
     
</script>

<!-- js code for scrubber -->
<script type="text/javascript">

            $(document).ready(function(){
                $("#slider").slider();
                $('#slider').slider('option', 'animate', true);
                $('#slider').slider('option', 'min', 0);
                $('#slider').bind('slide', function(event, ui) {

                    Videodisplay.seek (ui.value);
                });
            });

        </script>
</head>

<body>
<div style="margin: 10px; margin-bottom: 0px">
    <h1>Videoplayer with Captions</h1>
    
    <object id="oc_Videodisplay"
        codeBase="http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab"
        width="360" height="288"
        classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">
        <param name="movie" value="Videodisplay.swf" />
        <param name="quality" value="high" />
        <param name="allowScriptAccess" value="always" />
        <param name="bgcolor" value="#000000" />
        <param name="allowFullScreen" value="true" />
        <param name="flashvars"
            VALUE="bridgeName=b_Videodisplay&video_url=http://vs1.rz.uni-osnabrueck.de/public/virtmm/opencast/car.flv&autoplay=false&captions=dfxp/car.dfxp.xml">
        <embed width="360" height="288" bgcolor="#000000"
            allowfullscreen="true" type="application/x-shockwave-flash"
            pluginspage="http://www.macromedia.com/go/getflashplayer"
            flashvars="bridgeName=b_Videodisplay&video_url=http://vs1.rz.uni-osnabrueck.de/public/virtmm/opencast/car.flv&autoplay=false&captions=dfxp/car.dfxp.xml"
            quality="high" allowScriptAccess="always" src="Videodisplay.swf" />

    
    </object>
    
</div>
<div 
    id="captions" style="height:30; width:360; text-align: center; margin-left:10px;">
</div>
<div 
    id="slider" class="ui-slider"
    style="width: 360px; display: inline-block; margin-left: 10px; margin-right: 10px; margin-top: 10px;">
    
</div>

<div 
    style="margin-left: 10px; margin-right: 10px; margin-top: 5px;">
    <input type="button" onclick="doPlay();" value="Play" /> 
    <input type="button" onclick="doPause();" value="Pause" /> 
    <input type="button" onclick="doStop();" value="Stop" />
    <input type="button" onclick="doClosedCaptions(true);" value="cc" />
   
    <div 
        id="time" style="display: inline-block; margin-left: 60px;">00:00:00 | 00:00:00
    </div>
</div>

<div 
    id="language" style="margin-left: 10px; margin-right: 10px; margin-top: 5px;">
	<select 
		id="cb_lang" 
		style="width:150px;"
		onChange="doSetLanguage(cb_lang.options[selectedIndex].value);"
		>
	</select>
</div>


</body>
</html>