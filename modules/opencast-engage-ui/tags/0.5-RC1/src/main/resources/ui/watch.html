<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <!------------------------- HEAD ------------------------->
  <head>
    <title>Opencast Matterhorn - Media Player - </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <!-- styles -->
    <link rel="stylesheet" type="text/css" href="css/watch.css" />
    <link rel="stylesheet" type="text/css" href="css/oc.search.browse.css" />
        
    <link rel="stylesheet" type="text/css" href="engage-hybrid-player/fluid/fss/css/fss-reset.css" />
    <link rel="stylesheet" type="text/css" href="engage-hybrid-player/fluid/fss/css/fss-layout.css" />
    <link rel="stylesheet" type="text/css" href="engage-hybrid-player/fluid/fss/css/fss-text.css" />
    <link rel="stylesheet" type="text/css" href="engage-hybrid-player/fluid/fss/css/fss-theme-mist.css" />
    <link rel="stylesheet" type="text/css" href="engage-hybrid-player/fluid/fss/css/fss-theme-hc.css" />
    <link rel="stylesheet" type="text/css" href="engage-hybrid-player/fluid/fss/css/fss-states.css" />
    <link rel="stylesheet" type="text/css" href="engage-hybrid-player/jquery/ui/css/base/ui.all.css" />
    <link rel="stylesheet" type="text/css" href="engage-hybrid-player/css/oc.player.css" />
    <link rel="stylesheet" type="text/css" href="engage-hybrid-player/css/player-hybrid-download.css" />
        
    <!-- scripts -->
    <script type="text/javascript" src="jquery/jquery/jquery-1.3.2.js"></script>
    <script type="text/javascript" src="js/jquery.xslt.js"></script>
    <script type="text/javascript" src="js/engage-ui.js"></script>

    <script type="text/javascript">
      $(document).ready( function() {

        var mediaPackageId = Opencast.engage.getMediaPackageId();
        var restEndpoint = "../../engageui/rest/episode?episodeId=" + mediaPackageId;

        $('#stage').xslt(restEndpoint, "xsl/player-hybrid-download.xsl", function() {
          // some code to run after the mapping

          // set the title of the page
          $('title').append($('#oc-title').html());

          // set the title on the top of the player
          $('#stage-title').append("<h2>"+ $('#oc-title').html() + " by " + $('#oc-creator').html() + "</h2>");

         // set the abstract
          $('#abstract').append($('#oc-abstract').html());

          // set embed field
          var watchUrl = window.location.href;
          var embedUrl = watchUrl.replace(/watch.html/g, "embed.html")
          var embed = $('#oc-embed').val().replace(/src_url/g, embedUrl);
          $('#oc-embed').val(embed);
          
          var elem1 = document.createElement("script");
          $(elem1).attr({type:"text/javascript", src:"engage-hybrid-player/ACFLRunContent/AC_OETags.js"});
          
          var elem2 = document.createElement("script");
          $(elem2).attr({type:"text/javascript", src:"engage-hybrid-player/bridge/lib/FABridge.js"});
          
          var elem3 = document.createElement("script");
          $(elem3).attr({type:"text/javascript", src:"engage-hybrid-player/bridge/Videodisplay.js"});
          
          var elem4 = document.createElement("script");
          $(elem4).attr({type:"text/javascript", src:"engage-hybrid-player/jquery/js/jARIA.js"});
          
          var elem5 = document.createElement("script");
          $(elem5).attr({type:"text/javascript", src:"engage-hybrid-player/jquery/js/jquery.keyboard-a11y.js"});

          var elem6 = document.createElement("script");
          $(elem6).attr({type:"text/javascript", src:"engage-hybrid-player/jquery/js/jquery.tooltip.js"});

          var elem7 = document.createElement("script");
          $(elem7).attr({type:"text/javascript", src:"engage-hybrid-player/fluid/js/Fluid.js"});
          
          var elem8 = document.createElement("script");
          $(elem8).attr({type:"text/javascript", src:"engage-hybrid-player/fluid/js/InlineEdit.js"});
          
          var elem9 = document.createElement("script");
          $(elem9).attr({type:"text/javascript", src:"engage-hybrid-player/jquery/ui/ui.core.js"});
          
          var elem10 = document.createElement("script");
          $(elem10).attr({type:"text/javascript", src:"engage-hybrid-player/jquery/ui/ui.slider.js"});

          var elem11 = document.createElement("script");
          $(elem11).attr({type:"text/javascript", src:"engage-hybrid-player/player-hybrid-download.js"});
          
          
          var elem12 = document.createElement("script");
          $(elem12).attr({type:"text/javascript", src:"engage-hybrid-player/aria/js/ariaSlider.js"});

          $('head').append(elem1);
          $('head').append(elem2);
          $('head').append(elem3);
          $('head').append(elem4);
          $('head').append(elem5);
          $('head').append(elem6);
          $('head').append(elem7);
          $('head').append(elem8);
          $('head').append(elem9);
          $('head').append(elem10);
          $('head').append(elem11);
          $('head').append(elem12);

          // Content of the player-hybrid-download.js document ready
          Opencast.ariaSlider.init(); 
          var simpleEdit = fluid.inlineEdit("#simpleEdit", {
            selectors : {
                text: ".editableText",
                editContainer: "#editorContainer",
                edit: "#editField"
            },
          useTooltip : true,
          tooltipDelay : 500
          });
          
          $("#btn_cc").attr('role','button');
          $("#btn_cc").attr('aria-pressed','false'); 

          $("#btn_volume").attr('role','button');
          $("#btn_volume").attr('aria-pressed','false');

          $("#btn_play_pause").attr('role','button');
          $("#btn_play_pause").attr('aria-pressed','false');

        });
      });

      
    </script>

  </head>

  <!------------------------- BODY ------------------------->
  <body>
    <div class="oc-holder">
      <a href="../../welcome.html"><img src="img/opencast_logo.gif" alt="Opencast" width="128" height="30" border="0" /></a>
      <div class="oc-search-bar-holder fl-helper-clearfix">
        &nbsp;
        <div class="oc-search-bar">
          <form action="index.html">
            <input id="searchField" type="text" name="q" value="" />
            <input type="submit" value="Search" />
          </form>
        </div>
      </div>
      <div class="oc-search-result-header">
          
    
      </div>
      <div id="stage-title">
    
      </div>
      <div id="stage">
        loading player...
      </div>
      <div id="info" >
        <button id="btn_info" class="oc_btn_info" onClick="Opencast.Player.toggleInfo();" type="submit" name="Keyboard Shortcuts Information"  value="Keyboard Shortcuts Information"   alt="Keyboard Shortcuts Information"  title="Keyboard Shortcuts Information" >Keyboard Shortcuts Information</button>
        <div id="infoBlock" class="oc_infoDisplayNone" >
            Press Control + Alt + I   = Toggle the keyboard shortcuts information between visible or unvisible.<br/>
            Press Control + Alt + P   = Toggle the video between pause or play.<br/>
            Press Control + Alt + S   = Stop the video.<br/>
            Press Control + Alt + M   = Toggle between mute or unmute the video.<br/>
            Press Control + Alt + U   = Volume up<br/>
            Press Control + Alt + D   = Volume down<br/>
            Press Control + Alt 0 - 9 = Seek the time slider<br/>
            Press Control + Alt + C   = Toggle between captions on or off.<br/>
            Press Control + Alt + F   = Forward the video.<br/>
            Press Control + Alt + R   = Rewind the video.<br/>
            Press Control + Alt + T   = the current time for the screen reader<br/>
            Press on Mac cmd + = to zoom in the player<br/>
            Press on Mac cmd - = to minimize the player<br/>
            Press on Windows strg + = to zoom in the player<br/>
            Press on Windows strg - = to minimize the player<br/>
        </div>
      </div>
      <div id="abstract">
      </div>
      <br>
      Embed this recording:<br>
        <textarea wrap="virtual" rows="5" cols="50" id="oc-embed" class="oc-embed" >&lt;iframe src="src_url" style="border:0px #FFFFFF none;" name="Opencast Matterhorn - Media Player" scrolling="no" frameborder="1" marginheight="0px" marginwidth="0px" height="400" width="420"&gt;&lt;/iframe&gt;</textarea>

    </div>
  </body>
</html>
