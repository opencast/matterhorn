<?xml version = "1.0" encoding = "utf-8"?>
<!--
     /**
     *  Copyright 2009 The Regents of the University of California
     *  Licensed under the Educational Community License, Version 2.0
     *  (the "License"); you may not use this file except in compliance
     *  with the License. You may obtain a copy of the License at
     *
     *  http://www.osedu.org/licenses/ECL-2.0
     *
     *  Unless required by applicable law or agreed to in writing,
     *  software distributed under the License is distributed on an "AS IS"
     *  BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
     *  or implied. See the License for the specific language governing
     *  permissions and limitations under the License.
     *
     */
-->
<mx:Canvas 
    xmlns:mx = "http://www.adobe.com/2006/mxml"
    xmlns:view = "org.opencast.engage.videodisplay.view.*"
    top="5"
    bottom="5"
    left="5"
    right="5"
    width="100%"
    height="100%"
    resize="{ onResize() }"
    >

    <mx:Script>
        <![CDATA[
        	import mx.controls.Alert;
        	import org.opencast.engage.videodisplay.state.CoverState;
        	import mx.core.Application;
            import org.swizframework.Swiz;
            import org.opencast.engage.videodisplay.model.VideodisplayModel;

            [Autowire]
            [Bindable]
            public var model:VideodisplayModel;
            
            
            private function onResize():void
            {
                if( model.coverState == CoverState.ONECOVER )
                {
                    img_coverSingle.x = ( ( Application.application.width - 10 ) / 2 ) - img_coverSingle.contentWidth / 2;
                   
                }
                else
                {
                	
                	
                	//img_coverOne.x = ( ( Application.application.width - 10 )  ) - ( ( img_coverOne.contentWidth + img_coverTwo.contentWidth )  / 2 );
                //	img_coverTwo.x =  img_coverOne.contentWidth +1;
                }
            }
        ]]>
    </mx:Script>
    
    <mx:states>

        <mx:State 
            name = "onecover"
            >

            <mx:SetProperty 
                target = "{ bx_onecover }"
                name = "visible"
                value = "true"
                />

            <mx:SetProperty 
                target = "{ bx_onecover }"
                name = "includeInLayout"
                value = "true"
                />
        </mx:State>

        <mx:State 
            name = "twocovers"
            >

            <mx:SetProperty 
                target = "{ bx_twocovers }"
                name = "visible"
                value = "true"
                />

            <mx:SetProperty 
                target = "{ bx_twocovers }"
                name = "includeInLayout"
                value = "true"
                />
        </mx:State>
        
     </mx:states>
    
    <mx:Canvas 
    	id="bx_onecover"
    	width="100%"
    	height="100%"
    	visible = "false"
        includeInLayout = "false"
    	>
    	
    	 <mx:Image 
            id="img_coverSingle"
            width="100%"
            height="100%"
            autoLoad="true"
            source="{ model.coverURLSingle }"
            scaleContent="true"
            updateComplete="{ onResize() }"
            visible="{ model.coverURLSingle != '' ? true : false }"
            includeInLayout="{ model.coverURLSingle != '' ? true : false }"
            />
    	
    </mx:Canvas>
    
    <mx:HBox 
    	id="bx_twocovers"
    	width="100%"
    	height="100%"
    	horizontalGap="0"
    	visible = "false"
        includeInLayout = "false"
    	>
    	
    	<mx:Image 
	    	id="img_coverOne"
	        width="100%"
	        height="100%"
	        autoLoad="true"
	    	source="{ model.coverURLOne }"
	    	scaleContent="true"
	    	updateComplete="{ onResize() }"
	    	visible="{ model.coverURLOne != '' ? true : false }"
	        includeInLayout="{ model.coverURLOne != '' ? true : false }"
	        horizontalAlign="right"
	        />
	        
	    <mx:Image 
	        id="img_coverTwo"
	        width="100%"
	        height="100%"
	        autoLoad="true"
	        source="{ model.coverURLTwo }"
	        scaleContent="true"
	        updateComplete="{ onResize() }"
	        visible="{ model.coverURLTwo != '' ? true : false }"
	        includeInLayout="{ model.coverURLTwo != '' ? true : false }"
	        horizontalAlign="left"
	        />


    </mx:HBox>
  
</mx:Canvas>
