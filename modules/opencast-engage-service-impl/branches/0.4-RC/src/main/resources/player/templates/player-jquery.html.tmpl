<html>
<head>
<title>Accessible Opencast Progressive Download</title>
<script type="text/javascript" src="/engage/player/bridge/lib/FABridge.js"></script>
<script type="text/javascript" src="/engage/player/bridge/Videodisplay.js"></script>

<link rel="stylesheet" href="/engage/player/jquery/ui/css/base/ui.all.css" type="text/css">
<link rel="stylesheet" href="/engage/player/css/oc.player.css" type="text/css">
<script type="text/javascript" src="/engage/player/jquery/jquery-1.3.2.js"></script>
<script type="text/javascript" src="/engage/player/jquery/ui/ui.core.js"></script>
<script type="text/javascript" src="/engage/player/jquery/ui/ui.slider.js"></script>


<script language="javascript" type="text/javascript">
        var playing = "playing";
        var pausing = "pausing";
            
        function doPlay () {
            Videodisplay.play();
        }
            
        function doPause () {
            Videodisplay.pause();
        }
        
            function doTogglePlayPause () {
                 if (currentPlayPauseState == pausing)
                 {
                     setPlayPauseState(playing);
                     doPlay();               
                 }
                 else
                 {
                     setPlayPauseState(pausing);
                     doPause();            
                 }
             }

             function setPlayPauseState(state) {

                 if(state == playing)
                 {
                     document.getElementById("btn_play_pause").value = "Play";
                     currentPlayPauseState = pausing;
                 }
                 else
                 {
                     document.getElementById("btn_play_pause").value = "Pause";
                     currentPlayPauseState = playing;
                 }
             } 
        
        function doStop () {
            Videodisplay.stop();
        }

        function doSeek (time) {
            Videodisplay.seek (time);
        }

        function setPlayhead (newPosition) {
            $('#slider').slider('value', newPosition);
        }

        function doSetVolume (value) {
           Videodisplay.setVolume(value);
        }

        
        function doToggleVolume () {
            var mute = "Mute";

            if (document.getElementById("btn_volume").value == mute) {
                document.getElementById("btn_volume").value = "Unmute";
                doSetVolume(0);                   
            }
            else
            {
                document.getElementById("btn_volume").value = "Mute";
                doSetVolume(1.0);                
            }

         }
           
       function setCurrentTime (text) {
            document.getElementById("time-current").innerHTML = text;
        }
        
        function setTotalTime (text) {
            document.getElementById("time-total").innerHTML = text;
        }

        function setDuration (time) {
            $('#slider').slider('option', 'max', time);
        }

        function setProgress (value) 
        {
            $('.matterhorn-progress-bar').css("width", value + "%");
        }

    </script>

<!-- js code for scrubber -->
<script type="text/javascript">

            $(document).ready(function(){
                $("#slider").slider();
                $('#slider').slider('option', 'animate', true);
                $('#slider').slider('option', 'min', 0);
                $('#slider').bind('slide', function(event, ui) {

                    Videodisplay.seek (ui.value);
                });
            });

        </script>
</head>

<body>
<div style="margin: 10px; margin-bottom: 0px">
<h1>Accessible Opencast Progressive Download Player</h1>
<object id="oc_Videodisplay"
    codeBase="http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab"
    width="360" height="288"
    classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">
    <param name="movie" value="/engage/player/Videodisplay.swf" />
    <param name="quality" value="high" />
    <param name="allowScriptAccess" value="always" />
    <param name="bgcolor" value="#000000" />
    <param name="allowFullScreen" value="true" />
    <param name="flashvars"
        VALUE="bridgeName=b_Videodisplay&video_url=<:videoURL:>&autoplay=false">
    <embed width="360" height="288" bgcolor="#000000"
        allowfullscreen="true" type="application/x-shockwave-flash"
        pluginspage="http://www.macromedia.com/go/getflashplayer"
        flashvars="bridgeName=b_Videodisplay&video_url=<:videoURL:>&autoplay=false"
        quality="high" allowScriptAccess="always" src="/engage/player/Videodisplay.swf" /></object></div>

<div id="slider" class="ui-slider"
    style="width: 360px; display: inline-block; margin-left: 10px; margin-right: 10px; margin-top: 10px;">
<div class="matterhorn-progress-bar"></div>
</div>

    <div style="margin-left:10px; margin-right:10px; margin-top:5px;">
        <span style="margin-left:0px;">
        Time:
            <span id="time-current" role="timer">00:00:00</span> of
            <span id="time-total" role="timer">00:00:00</span>
        </span>
        <input id="btn_play_pause" type="button" onclick="doTogglePlayPause();" value="Play"/>
        <input type="button" onclick="doStop();" value="Stop"/>
        <input id="btn_volume" type="button" onclick="doToggleVolume();" value="Mute"/>
    </div>

</body>
</html>