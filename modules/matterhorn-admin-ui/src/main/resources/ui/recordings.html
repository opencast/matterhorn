<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>Recordings | Opencast Matterhorn</title>
        <link rel="shortcut icon" href="img/favicon.ico" />
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <!-- STYLESHEETS -->
        <link rel="stylesheet" type="text/css" href="css/jquery-ui-1.8.6.custom.css" />
        <link rel="stylesheet" type="text/css" href="css/jquery-ui-opencast-admin/jquery-ui-opencast-admin.css" />
        <link rel="stylesheet" type="text/css" href="css/admin.css" />
        <!-- SCRIPTS -->
        <script type="text/javascript" src="jquery/jquery-1.4.4.min.js"></script>
    <script type="text/javascript" src="jquery/jquery-ui-1.8.6.custom.min.js"></script>
    <script type="text/javascript" src="trimpath/trimpath-template-1.0.38.js"></script>

        <!-- script type="text/javascript" src="js/jquery.ui.spinner.js"></script -->
    <script type="text/javascript" src="js/jquery.ui.searchbox.js"></script>
    <script type="text/javascript" src="js/oc.utils.js"></script>
    <script type="text/javascript" src="js/oc.recordings.js"></script>
    <script type="text/javascript" src="js/oc.admin.js"></script>
    <script type="text/javascript">
            $(document).ready( function() {
              $("#tabsWrapper").tabs({
                select: function (event, ui) {
                  switch (ui.index) {
                    case 0:
                      window.location = 'recordings.html';
                      return false;
                      break;
                    case 1:
                      window.location = 'series_list.html';
                      return false;
                      break;
                    case 2:
                      window.location = 'agents_status.html';
                      return false;
                      break;
                    case 3:
                      window.location = 'statistics.html';
                      return false;
                      break;
                  }
                },
                selected: 0
              });
            });
    </script>
  </head>
  <body>
    <!-- VERSION AND LOGOUT BAR -->
    <div class="layout-page-header oc-ui-version-bar ui-helper-clearfix">
      <div class="layout-inline layout-float-right"><a id="logout" href="/j_spring_security_logout">Log out</a></div>
        <div id="pageHeader">
            <span id="currentVersion"></span>
            <a href="/j_spring_security_logout">Log out</a>
            <div class="clear"></div>
        </div>
      
        <!-- notification that javaScript is disabled -->
        <noscript>
            <div style="border:1px solid red;width:530px;margin:20px;margin-left:auto;margin-right:auto;">
                <div style="text-align: left;background:red; color:white;padding-top:2px;padding-bottom:2px;">
                    <div class="icon icon-error" style="margin-left:5px;margin-right:5px;">&nbsp;</div>
                    JavaScript is disabled
    </div>
                <div style="padding:10px;">
                    JavaScript is turned off in your web browser, so this site won't work properly! <br />
                    <strong>
                        Please turn JavaScript on to use this site, then refresh the page.
                    </strong>
        </div>
      </div>
        </noscript>
    
          <div id="wrapper">
              <div id="header">
                <a href="recordings.html" style="text-decoration: none;">
                    <img src="img/MatterhornLogo.png" onclick="document.location='../welcome.html'; return false;" alt="Matterhorn Home Page" title="Matterhorn Home Page" width="104" height="72" align="left" />
                    <h1>Admin Tools</h1>
                </a>
                <a href="http://www.opencastproject.org" id="oc-logo">
          <img src="img/OpencastLogo.png" width="143" height="38" alt="Opencast Community Project" title="Opencast Community Project" />
        </a>
                <div class="clear"></div>
      </div>
    </div>
    <!-- PAGE TABS -->
    <div class="layout-page-header">
      <ul class="layout-page-tabs oc-ui-page-tabs">
        <li class="oc-ui-page-tab oc-ui-page-tab-active oc-ui-cursor ui-corner-top" id="i18n_tab_recording" onclick="document.location='recordings.html'" style="display:inline;">Recordings</li>
        <li class="oc-ui-page-tab oc-ui-cursor ui-corner-top" id="i18n_tab_series" onclick="document.location='series_list.html'" style="display:inline;">Series</li>
        <li class="oc-ui-page-tab oc-ui-cursor ui-corner-top" id="i18n_tab_agent" onclick="document.location='agents_status.html'" style="display:inline;">Capture Agents</li>
        <li class="oc-ui-page-tab oc-ui-cursor ui-corner-top" id="i18n_tab_statistics" onclick="document.location='statistics.html'" style="display:inline;">Statistics</li>

            <div id="tabsWrapper" class="ui-tabs ui-widget ui-widget-content ui-corner-all">
                <ul id="tabs">
                    <li>
                        <a href="#recordings" id="i18n_tab_recording">Recordings</a>
                    </li>
                    <li>
                        <a href="#series" id="i18n_tab_series">Series</a>
                    </li>
                    <li>
                        <a href='#agents_status' id="i18n_tab_agent">Capture Agents</a>
                    </li>
                    <li>
                        <a href="#statistics" id="i18n_tab_statistics">Statistics</a>
                    </li>
      </ul>

                <div id="stage" class="ui-widget">
                    <div id="progressIndicator" class="layout-float-left ui-helper-hidden">
                      <label for="editProgress" style="margin-left: 50px;">Editing in progress</label><br />
                      <img src="img/loading.gif" alt="editing in progress" title="Editing in progress" />
    </div>
                    <div id="uploadContainer">
        <button id="uploadButton" type="button">Upload Recording</button>
        <button id="scheduleButton" type="button">Schedule Recording</button>
      </div>
                    <div class="clear"></div>
      <!-- div id="controlsTop" class="ui-widget-header ui-corner-top ui-helper-clearfix" -->
      <div id="controlsTop" class="ui-helper-clearfix">
                        <div class="IE_buffer"></div>
                        <div id="runningStatesContainer">
          <input type="radio" name="stateSelect" value="all" id="state-all" /><label for="state-all">All<span id="stats-all"></span></label>
          <input type="radio" name="stateSelect" value="upcoming" id="state-upcoming" /><label for="state-upcoming">Upcoming<span id="stats-upcoming"></span></label>
          <input type="radio" name="stateSelect" value="capturing" id="state-capturing" /><label for="state-capturing">Capturing<span id="stats-capturing"></span></label>
          <input type="radio" name="stateSelect" value="processing" id="state-processing" /><label for="state-processing">Processing<span id="stats-processing"></span></label>
          <input type="radio" name="stateSelect" value="finished" id="state-finished" /><label for="state-finished">Finished<span id="stats-finished"></span></label>
        </div>

                        <div id="notRunningStatesContainer">
          <input type="radio" name="stateSelect" value="hold" id="state-hold" /><label for="state-hold">On Hold<span id="stats-hold"></span></label>
          <input type="radio" name="stateSelect" value="failed" id="state-failed" /><label for="state-failed">Failed<span id="stats-failed"></span></label>
        </div>
      </div>
                    <div id="searchBox" class="ui-state-hover"></div>
                    <div class="clear"></div>
                    <div id="search-result"><span id="filterRecordingCount"></span></div>
      <!-- BULK ACTION PANEL -->
      <div class="layout-page-header recordings-bulk-action ui-corner-all layout-centered" id="bulkActionPanel">
        <div class="ui-widget layout-centered">
          <select id="bulkActionSelect">
            <option value="select">- Select Action -</option>
            <option value="edit">Edit Metadata</option>
            <option value="delete">Delete Recordings</option>
          </select>
          <button type="button" class="recordings-cancel-bulk-action" id="cancelBulkAction">
            <span id="i18n_button_cancel_bulk_action">Cancel Bulk Action</span>
          </button>
        </div>
        <div id="bulkEditPanel">
          <!-- Common Information -->
                            <div class="form-box layout-centered ui-widget">
                                <div class="form-box-content ui-widget-content ui-corner-all">
              <form action="">
                <ul class="oc-ui-form-list">
                  <li>
                    <label for="title" id="titleLabel"><span id="i18n_title_label">Title</span>:</label>
                                                <input type="text" id="title" name="title" class="oc-ui-form-field" maxlength="255" />
                                            </li>
                                            <li>
                                                <label for="creator" id="creatorLabel"><span id="i18n_presenter_label">Presenter</span>:</label>
                                                <input type="text" class="oc-ui-form-field" name="creator" id="creator" maxlength="255" />
                  </li>
                  <li id="seriesContainer">
                                                <label for="seriesSelect" id="seriesLabel"><span id="i18n_series_label">Course/Series</span>:</label>
                                                <input type="text" class="oc-ui-form-field ui-autocomplete-input" name="seriesSelect" id="seriesSelect" maxlength="255" />
                    <input type="hidden" id="series" />
                  </li>
                </ul>
              </form>
            </div>
          </div>
          <!-- Optional Information -->
                            <div class="form-box layout-centered ui-widget oc-ui-collapsible-widget">
                                <div class="form-box-head ui-widget-header ui-corner-top oc-ui-cursor">
                                  <div id="additional_icon" class="ui-icon ui-icon-triangle-1-e"></div>
                                  <div id="i18n_additional">Additional Description</div>
                                  <div class="clear"></div>
            </div>

                                <div class="form-box-content ui-widget-content ui-corner-bottom">
              <form action="">
                <ul class="oc-ui-form-list">
                  <li>
                                                <label for="contributor" id="contributorLabel"><span id="i18n_dept_label">Contributor</span>:</label>
                                                <input type="text" class="oc-ui-form-field" name="contributor" id="contributor" maxlength="255" />
                  </li>
                  <li>
                    <label for="subject" id="subjectLabel"><span id="i18n_sub_label">Subject</span>:</label>
                                                <input type="text" class="oc-ui-form-field" name="subject" id="subject" maxlength="255" />
                  </li>
                  <li>
                    <label for="language" id="languageLabel"><span id="i18n_lang_label">Language</span>:</label>
                                                <input type="text" class="oc-ui-form-field" name="language" id="language" maxlength="255" />
                  </li>
                  <li>
                    <label for="description" id="descriptionLabel"><span id="i18n_desc_label">Description</span>:</label>
                    <textarea name="description" id="description" class="oc-ui-form-field" rows="5" cols="10"></textarea>
                  </li>
                </ul>
              </form>
            </div>
          </div>
        </div>

                        <div id="bulkActionApply" class="form-box layout-centered ui-widget">
                            <div class="form-box-content ui-widget-content ui-corner-all">
            <ul class="oc-ui-form-list">
              <li>
                <label>&nbsp;</label>
                <span id="bulkActionApplyMessage"></span>
              </li>
              <li>
                <label>&nbsp;</label>
                <button type="button" id="applyBulkAction">
                  <span id="i18n_button_apply_bulk_action">Apply Changes</span>
                </button>
                <button type="button" id="cancelBulkAction" class="recordings-cancel-bulk-action">
                  <span id="i18n_button_cancel_bulk_action">Cancel Bulk Action</span>
                </button>
              </li>
            </ul>
          </div>
        </div>

                        <div id="deleteModal" title="Deleting Recordings">
          <div id="deleteProgress"> </div>
                            <div id="deleteError" class="ui-helper-hidden">
        	                   <div id="deleteErrorMessage"></div>
          	                   <button id="closeDelete" onclick="ocRecordings.closeDeleteDialog()">Close</button>
        </div>
      </div>
                    </div><!-- END #bulkActionPanel -->

      <div id="tableContainer" class="ui-widget ui-helper-clearfix"></div>

      <!-- div id="controlsFoot" class="ui-widget-header ui-corner-bottom ui-helper-clearfix" -->
      <div id="controlsFoot" class="ui-helper-clearfix">
                        <div id="refreshControlsContainer" class="ui-widget ui-state-hover ui-corner-all">
                            <input type="checkbox" id="refreshEnabled" /><label for="refreshEnabled"></label>
            <span class="refresh-text">Update table every&nbsp;</span>
            <select id="refreshInterval">
              <option value="5">5</option>
              <option value="7">7</option>
              <option value="10">10</option>
            </select>
            <span class="refresh-text">&nbsp;seconds.</span>
        </div>

                        <div id="perPageContainer" class="ui-widget ui-state-hover ui-corner-all">
          Show
          <select id="pageSize">
            <option>5</option>
            <option selected="selected">10</option>
            <option>20</option>
            <option>50</option>
            <option>100</option>
          </select>
          Recordings per page.
        </div>

          <!--<label for="page">Goto page: </label><input type="text" id="page" value="1" />-->
                        <span id="pageWidget" class="layout-inline">
                            <span id="prevButtons">
            <a class="prevPage" href="javascript:ocRecordings.Configuration.page=0;ocRecordings.reload();">&lt;&lt;first</a>
            <a class="prevPage" href="javascript:ocRecordings.previousPage();" id="previousPage">&lt;previous</a>
                            </span>
                            <span id="prevText" class="ui-helper-hidden">
                              <span>&lt;&lt;first</span>
                              <span>&lt;previous</span>
                            </span>
                            <span id="pageList"></span>
                            <span id="nextButtons">
            <a class="nextPage" href="javascript:ocRecordings.nextPage();" id="nextPage">next&gt;</a>
            <a class="nextPage" href="javascript:ocRecordings.lastPage();" id="lastPage">last&gt;&gt;</a>
                            </span>
                            <span id="nextText" class="ui-helper-hidden">
                              <span>next&gt;</span>
                              <span>last&gt;&gt;</span>
                            </span>
                        </span>
                    </div><!-- END #controlsFoot -->
                </div><!-- END #stage -->

    <!-- HoldAction panel -->
    <div id="holdActionStage" style="display:none">
                    <input type="hidden" id="holdWorkflowId" value="" />
                        <iframe id="holdActionUI" border="0" frameborder="0" style="height:640px;"></iframe>
    </div>

    <div id="templates" style="display:none;">
      <textarea id="tableTemplate">
<table id="recordingsTable" class="ui-widget" cellspacing="0" width="100%">
  <thead>
                            <tr id="bulkHeader">
                                <th colspan="6">&nbsp;</th>
      <th class="recordings-table-head ui-helper-hidden" id="bulkActionButton"><a href="javascript:ocRecordings.displayBulkAction()">Bulk Action</a></th>
    </tr>
    <tr>
                                <th id="sortTitle" width="25%" class="ui-widget-header sortable"><div>Title<div class="sort-icon ui-icon ui-icon-triangle-2-n-s"></div></div></th>
                                <th id="sortPresenter" width="15%" class="ui-widget-header sortable"><div>Presenter<div class="sort-icon ui-icon ui-icon-triangle-2-n-s"></div></div></th>
                                <th id="sortSeries" width="15%" class="ui-widget-header sortable"><div>Course/Series<div class="sort-icon ui-icon ui-icon-triangle-2-n-s"></div></div></th>
                                {if ocRecordings.Configuration.state == 'upcoming' || ocRecordings.Configuration.state == 'capturing'}
                                <th class="ui-widget-header" style="white-space:nowrap;padding-left:5px;padding-right:5px;">Capture Agent</th>
                                {/if}
                                <th id="sortDate" width="18%" class="ui-widget-header sortable"><div>Recording Date&amp;Time<div class="sort-icon ui-icon ui-icon-triangle-2-n-s"></div></div></th>
                                <th width="17%" class="ui-widget-header">Status</th>
                                <th width="10%" class="ui-widget-header">Action</th>
    </tr>
  </thead>
  <tbody>
    {for recording in recordings}
      <tr valign="middle">
                                <td class="ui-state-active">
          ${recording.title}
        </td>
                                <td class="ui-state-active">
          ${recording.creators}
        </td>
                                <td class="ui-state-active">
          ${recording.seriesTitle}
        </td>
                                {if ocRecordings.Configuration.state == 'upcoming' || ocRecordings.Configuration.state == 'capturing'}
                                <td class="ui-state-active" style="white-space:nowrap;">
                                ${recording.captureAgent}
                                </td>
                                {/if}
                                <td class="ui-state-active">
          ${recording.start}
        </td>
                                <td class="status-column-cell ui-state-active">

                                    <div class="workflowActionButton ui-helper-clearfix" style="float:left;">
                                        <a href="inspect.html?id=${recording.id}" title="View Technical Details for this Recording">
                                        <span class="ui-icon ui-icon-gear inspect-workflow-button" style="float:left;"></span>
                                        </a>
                                    </div>
                                        <div style="padding-top:3px;">
                                            {if recording.error}
                                                <div class="foldable">
                                                  <div class="fold-header" style="color:red;font-weight:bold;">${recording.state}</div>
                                                <div class="fold-body">
                                                ${recording.error}
                                                </div>
                                                </div>
                                            {else}
                                                ${recording.state}
                                                {if recording.operation}
                                                    :&nbsp;${recording.operation}
                                                {/if}
                                            {/if}
                                    </div>
                                </td>
                                <td class="ui-state-active">
          ${ocRecordings.makeActions(recording, recording.actions)}
          {if recording.holdAction}
                                        <br /><a href="javascript:ocRecordings.displayHoldUI(${recording.id});" title="${recording.holdAction.title}">${recording.holdAction.title}</a>
          {/if}
        </td>
      </tr>
    {forelse}
      <tr>
        <td colspan="6" align="center">
          No Recordings found
        </td>
      </tr>
    {/for}
  </tbody>
</table>
      </textarea>

      <textarea id="tableSelectTemplate">
<table id="recordingsTable" class="ui-widget" cellspacing="0" width="100%">
  <thead>
                            <tr id="bulkheader">
      <th>&nbsp;</th>
                                <th colspan="7">&nbsp;</th>
    </tr>
    <tr>
                                <th class="ui-state-default"><input type="checkbox" id="selectAllRecordings" onclick="ocRecordings.selectAll(this.checked);" /></th>
                                 <th id="sortTitle" width="25%" class="ui-widget-header sortable"><div>Title<div class="sort-icon ui-icon ui-icon-triangle-2-n-s"></div></div></th>
                                <th id="sortPresenter" width="15%" class="ui-widget-header sortable"><div>Presenter<div class="sort-icon ui-icon ui-icon-triangle-2-n-s"></div></div></th>
                                <th id="sortSeries" width="15%" class="ui-widget-header sortable"><div>Course/Series<div class="sort-icon ui-icon ui-icon-triangle-2-n-s"></div></div></th>
                                {if ocRecordings.Configuration.state == 'bulkedit'}
                                <th class="ui-widget-header" style="white-space:nowrap;padding-left:5px;padding-right:5px;">Capture Agent</th>
                                {/if}
                                <th id="sortDate" width="18%" class="ui-widget-header sortable"><div>Recording Date&amp;Time<div class="sort-icon ui-icon ui-icon-triangle-2-n-s"></div></div></th>
                                <th width="17%" class="ui-widget-header">Status</th>
                                <th width="10%" class="ui-widget-header">Action</th>
    </tr>
  </thead>
  <tbody>
    {for recording in recordings}
      <tr valign="top">
                                <td  class="ui-state-active"><input type="checkbox" value="${recording.id}" class="selectRecording" /></td>
                                <td  class="ui-state-active">
          ${recording.title}
        </td>
                                <td  class="ui-state-active">
          ${recording.creators}
        </td>
                                <td  class="ui-state-active">
          ${recording.seriesTitle}
        </td>
                                {if ocRecordings.Configuration.state == 'bulkedit'}
                                <td class="ui-state-active" style="white-space:nowrap;">
                                ${recording.captureAgent}
                                </td>
                                {/if}
                                <td  class="ui-state-active">
          ${recording.start}
        </td>
                                <td class="status-column-cell ui-state-active" title="Click inspect this workflow">
          {if recording.error}
            <span style="color:red;font-weight:bold;">FAILED</span>
          {else}
            ${recording.state}
            {if recording.operation}
              :&nbsp;${recording.operation}
            {/if}
          {/if}
        </td>
                                <td  class="ui-state-active">
                                    ${ocRecordings.makeActions(recording, recording.actions)}
                                {if recording.holdAction}
                                    <br /><a href="javascript:ocRecordings.displayHoldUI(${recording.id});" title="${recording.holdAction.title}">${recording.holdAction.title}</a>
          {/if}
        </td>
      </tr>
    {forelse}
      <tr>
        <td colspan="6" align="center">
          No Recordings found
        </td>
      </tr>
    {/for}
  </tbody>
</table>
      </textarea>

                </div><!-- END #templates -->

            </div><!-- END #tabsWrapper -->
        </div><!-- END #wrapper -->
  </body>
</html>
