<html>
<head>
<title>Hold for review</title>
<link rel="stylesheet" type="text/css" href="/admin/css/jquery-ui/jquery-ui.css" />
<link rel="stylesheet" type="text/css" href="/admin/css/jquery-ui/jquery-ui-admin.css" />
<link rel="stylesheet" type="text/css" href="/admin/css/admin.css" />
<link rel="stylesheet" type="text/css" href="style.css">
<link rel="stylesheet" type="text/css" href="videoplayer.css">

<script type="text/javascript" src="/admin/js/jquery/jquery.js"></script>
<script type="text/javascript" src="/admin/js/jquery/jquery-ui.js"></script>
<script type="text/javascript" src="/admin/js/oc.utils.js"></script>
<script type="text/javascript" src="/admin/js/itunes_categories.js"></script>
<script type="text/javascript" src="/admin/js/oc.mediapackage.js"></script>
<script type="text/javascript" src="/admin/js/jquery.jqote2.js"></script>
<script type="text/javascript" src="/admin/js/jquery.xmlns.js"></script>
<script type="text/javascript" src="/admin/js/ext/shortcut.js"></script>
<script type="text/javascript" src="jquery.timefield.js"></script>
<script type="text/javascript" src="jquery.srt.js"></script>
<script type="text/javascript" src="jquery.mhPlayer.js"></script>
<script type="text/javascript" src="javascript.js"></script>
<script type="text/javascript" src="editor.js"></script>
<script type="text/javascript" src="imagezoomer.js"></script>
</head>
<body>
  <div>
    <div class="lectureInfo" style="">
      <h2 id="info-title"></h2>
      <h4 id="info-creator"></h4>
      <h4 id="info-series"></h4>
    </div>

    <div class="holdStateUI">
      <h1>Review/Trim Media</h1>

      <div id="videoContainer">
        <video id="videoPlayer"> Your browser does not support HTML5 video.
        </video>
      </div>
    </div>

    <script type="text/x-jqote-template" id="template">
        <![CDATA[
        <table border="1">
          <thead>
            <tr>
              <th class="ui-widget-header">Track</th>
              <th class="ui-widget-header">selected</th>
            </tr>
          </thead>
          <tbody>
            <% $.each(data[j].tracks, function(key, track ) { %>
            <tr>
              <td><%= track.type %></td>
              <td class="right"><input type="checkbox" checked="checked" id="chk/<%= track.id %>"/></td>
            </tr>
            <% }); %>
          </tbody>
        </table>
        ]]>
      </script>

    <script type="text/x-jqote-template" id="splitSegmentTemplate">
        <![CDATA[
          <% $.each(data[j].splits, function(key, split ) { 
            split.id = key;
            var duration = previewTracks[0].duration / 1000;
            var begin = parseFloat(split.clipBegin.toString().replace("s", ""));
            var end = parseFloat(split.clipEnd.toString().replace("s", ""));
            var perc = ((end - begin) / duration) * 100;
          %>
            <div class="splitSegmentItem<%= !split.enabled ? ' splitSegmentDisabled disabled' : '' %>" 
                 id="splitSegmentItem-<%= key %>" 
                 style="width:<%= perc%>%" title="<%= split.description%>">
              
            </div>
          <% }); %>
      ]]>
      </script>

    <script type="text/x-jqote-template" id="splitElements">
      <![CDATA[
          <% $.each(data[j].splits, function(key, split ) { %>
            <div class="splitItem" id="splitItem-<%= key %>">
              <div id="splitItemDiv-<%= key %>" class="splitItemDiv<% if(!split.enabled) { %> disabled<% }%>">
                <div class="splitNumber floatLeft">
                  <span><%= (key + 1) %></span>
                </div>
                <div class="splitText">
                  <span><%= formatTime(split.clipBegin) %></span> - <span><%= formatTime(split.clipEnd) %></span> <br />
                  <p><%= split.description %></p>
               </div>
            </div>
            <div class="splitRemoverDiv">
              <div class="splitRemover">
                <% if(split.enabled) { %>
                  <a title="Remove this item" class="splitRemoverLink" id="splitRemover-<%= key %>"></a>
                <% } else { %>
                  <a title="Readd this item" class="splitAdderLink" id="splitAdder-<%= key %>"></a>
                <% } %>
              </div></div>
            </div>
          <% }); %>
      ]]>
    </script>
    <div class="ui-helper-hidden" id="deleteDialog">
      <span>Remove this split item?</span>
    </div>

    <div id="editor" class="form-box layout-centered ui-widget">
      <div id="boxes">
        <div id="leftBox"></div>

        <div id="rightBox">
          <div class="splitNumber">
            <span id="splitIndex">#</span>
          </div>
          <div id="descriptionDiv">
            <input type="hidden" id="splitUUID" />

            <a id="clipBeginSet" class="frameButton" title="set current time as new inpoint"></a> 
            <span class="clipItem" id="clipBegin"></span> - 
            <span class="clipItem" id="clipEnd"></span>
            <a id="clipEndSet" class="frameButton" title="set current time as new outpoint"></a> <br />
            <label for="description">Description</label>
            <br />
            <textarea id="splitDescription"></textarea>
            <div class="box_right">
              <input type="button" value="Remove" id="deleteButton" />
              <input type="button" value="Cancel" id="cancelButton" />
              <input type="button" value="OK" id="okButton" />
            </div>
          </div>
        </div>
        <input type="button" title="show all shortcuts" id="shortcuts" value="Shortcuts" /> <br />
        <input type="button" title="clear split split" value="clear split list" id="clearList" />
      </div>
    </div>

    <div class="form-box layout-centered ui-widget oc-ui-collapsible-widget" style="width: 680px;">
      <div class="form-box-head ui-widget-header ui-corner-top oc-ui-cursor collapse-control2">
        <div id="additional_icon" class="ui-icon ui-icon-triangle-1-e"></div>
        <div id="i18n_additional">Edit Metadata of this Recording</div>
        <div class="clear"></div>
      </div>
      <div class="form-box-content ui-widget-content ui-corner-bottom collapsable">
        <form action="">
          <ul class="oc-ui-form-list">
            <li><label class="scheduler-label" for="title" id="titleLabel" style="width: 15%;">
                <span style="color: red;">* </span><span id="i18n_title_label">Title</span>:
              </label> <input type="text" id="meta-title" name="title" class="oc-ui-form-field requiredField dcMetaField"
                maxlength="255" /></li>
            <li><label class="scheduler-label" for="creator" id="creatorLabel" style="width: 15%;">
                <span id="i18n_presenter_label">Presenter</span>:
              </label> <input type="text" name="creator" id="meta-creator" class="oc-ui-form-field dcMetaField" maxlength="255" /></li>
            <li id="seriesContainer"><label class="scheduler-label" for="series" id="seriesLabel"
                style="width: 15%;">
                <span id="i18n_series_label">Course/Series</span>:
              </label> <input type="text" class="oc-ui-form-field" id="series" name="series" maxlength="255"> <input
                type="hidden" class="oc-ui-form-field" id="ispartof" name="ispartof"></li>


            <li><label class="scheduler-label" id="recordingDateLabel" style="width: 15%;">
                <span id="i18n_date_label">Recording Date</span>:
              </label> <input type="text" size="10" id="recordDate" class="dcMetaField" name="created" /></li>
            <li><label class="scheduler-label" id="startTimeLabel" style="width: 15%;">
                <span id="i18n_starttime_label">Start Time</span>:
              </label> <select id="startTimeHour">
            </select> <select id="startTimeMin">
            </select></li>

            <li><label class="scheduler-label" for="keywords" id="keywordsLabel" style="width: 15%;">
                <span id="i18n_keywords_label">Keywords / Tags</span>:
              </label> <input type="text" id="meta-keywords" name="keywords" class="oc-ui-form-field ocMetaField"
                maxlength="255" /></li>
            <li><label class="scheduler-label" for="license" id="licenseLabel" style="width: 15%;">
                <span id="i18n_license_label">License</span>:
              </label> <select id="meta-license" name="license" class="oc-ui-form-field dcMetaField">
                <option value="All Rights Reserved">All Rights Reserved</option>
                <option value="Creative Commons 3.0: Attribution-NonCommercial-NoDerivs" selected="selected">Creative
                  Commons 3.0: Attribution-NonCommercial-NoDerivs</option>
            </select></li>

            <li class="additionalMeta"><label class="scheduler-label" for="contributor" id="contributorLabel"
                style="width: 15%;">
                <span id="i18n_dept_label">Contributor</span>:
              </label> <input type="text" class="oc-ui-form-field dcMetaField" name="contributor" id="meta-contributor"
                maxlength="255" /></li>
            <li class="additionalMeta"><label class="scheduler-label" for="subject" id="subjectLabel"
                style="width: 15%;">
                <span id="i18n_sub_label">Subject</span>:
              </label> <input type="text" class="oc-ui-form-field dcMetaField" name="subject" id="meta-subject" maxlength="255" />
              <select name="categorySelector" id="categorySelector" class="oc-ui-form-field"></select> <label
                class="scheduler-label" for="category" id="categoryLabel" style="width: 15%;">
                <span id="i18n_cat_label"></span>
              </label> <select name="category" id="category" class="oc-ui-form-field ocMetaField"></select></li>
            <li class="additionalMeta"><label class="scheduler-label" for="language" id="languageLabel"
                style="width: 15%;">
                <span id="i18n_lang_label">Language</span>:
              </label> <select id="meta-language" name="language" class="oc-ui-form-field dcMetaField">
                <option value="en" selected="selected">English</option>
                <option value="fr">French</option>
                <option value="de">German</option>
                <option value="it">Italian</option>
                <option value="es">Spanish</option>
            </select> <input type="text" class="oc-ui-form-field dcMetaField" name="language" id="meta-language" maxlength="255" /></li>
            <li class="additionalMeta"><label class="scheduler-label" for="rightsholder" id="rightsholderLabel"
                style="width: 15%;">
                <span id="i18n_rights_label">Copyright</span>:
              </label> <input type="text" disabled=true class="oc-ui-form-field dcMetaField" name="rightsholder"
                id="rightsholder" maxlength="255" value="" /></li>
            <li class="additionalMeta"><label class="scheduler-label" for="description" id="descriptionLabel"
                style="width: 15%;">
                <span id="i18n_desc_label">Description</span>:
              </label> <textarea name="description" id="meta-description" class="oc-ui-form-field dcMetaField" rows="5"
                cols="10"></textarea></li>
          </ul>
        </form>
      </div>
    </div>

    <div class="form-box layout-centered ui-widget oc-ui-collapsible-widget" style="width: 680px;">
      <div class="form-box-head ui-widget-header ui-corner-top oc-ui-cursor collapse-control2">
        <div id="additional_icon" class="ui-icon ui-icon-triangle-1-e"></div>
        <div id="i18n_additional">Select Tracks</div>
        <div class="clear"></div>
      </div>
      <div class="form-box-content ui-widget-content ui-corner-bottom collapsable">
        <div class="ui-helper-hidden" id="trackError">At least one track needs to be selected</div>
        <form action="" id="trackForm"></form>
      </div>
    </div>
    <div id="actions">
      <input title="Continue processing this recording with any edits (metadata, trim points)"
        style="margin-left: 65px; margin-right: 16px; width: 160px;" onclick="continueWorkflow();" id="continueBtn"
        type="button" class="ui-button ui-corner-all" value="Continue processing" />
      <!-- a id="edit-link" class="secondaryButton">Edit metadata, then continue</a -->
      <a onclick="cancel()" title="Cancel" class="secondaryButton">Cancel</a>
    </div>

    <div id="shortcutsDialog" class="ui-helper-hidden">
      <table border="1">
        <tbody>
          <tr>
            <td><span id="trim_previous_frame"></span></td>
            <td>previous frame</td>
          </tr>
          <tr>
            <td><span id="trim_next_frame"></span></td>
            <td>next frame</td>
          </tr>
          <tr>
            <td><span id="trim_split_at_current_time"></span></td>
            <td>split at current time</td>
          </tr>
          <tr>
            <td><span id="trim_play_current_segment"></span></td>
            <td>play current segment</td>
          </tr>
          <tr>
            <td><span id="trim_play_current_pre_post"></span></td>
            <td>play current segment with 2s pre and post roll excluding deleted segments</td>
          </tr>
          <tr>
            <td><span id="trim_set_current_time_as_inpoint"></span></td>
            <td>set current time as new inpoint of selected item
          </tr>
          <tr>
            <td><span id="trim_set_current_time_as_outpoint"></span></td>
            <td>set current time as new outpoint of selected item
          </tr>
          <tr>
            <td><span id="trim_play_pause"></span></td>
            <td>play/pause</td>
          </tr>
          <tr>
            <td><span id="trim_play_ending_of_current_segment"></span></td>
            <td>play ending of current segment</td>
          </tr>
          <tr>
            <td><span id="trim_delete_selected_segment"></span></td>
            <td>delete currently selected segment</td>
          </tr>
          <tr>
            <td><span id="trim_select_item_at_current_time"></span></td>
            <td>select segment at current time</td>
          </tr>
          <tr>
            <td><span id="trim_previous_marker"></span></td>
            <td>jump to previous marker</td>
          </tr>
          <tr>
            <td><span id="trim_next_marker"></span></td>
            <td>jump to next marker</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</body>
</html>
