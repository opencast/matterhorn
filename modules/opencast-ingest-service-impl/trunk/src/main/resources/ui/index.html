<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <!------------------------- HEAD ------------------------->
  <head>
    <title>Media File Ingest</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <!-- styles -->
    <link type="text/css" href="css/jquery-ui-1.7.2.matterhorn.css" rel="stylesheet">
    <link type="text/css" href="css/ingest.css" rel="stylesheet">
    <style type="text/css">

      /* popup help */
      .helpIcon {display:block;float:left;margin-left:5px;width:16px;height:16px;background-image:url(img/help.png);background-position:center center;background-repeat:no-repeat;cursor:pointer;}

      #themeroller-container {position:fixed;bottom:0;right:0;}
    </style>

    <!-- scripts -->
    <script type="text/javascript" src="js/jquery-1.3.2.min.js"></script>
    <script type="text/javascript" src="js/jquery-ui-1.7.2.matterhorn.min.js"></script>
    <script type="text/javascript">
      $(function() {

        // de-/collapse collapsables
        $('.collapse-control').click(function() {
          $(this).toggleClass('collapse-control-closed');
          $(this).toggleClass('collapse-control-open');
          $(this).next('.collapsable').toggle('fast');
        });

        // check if data for required fields is missing when a input value changes
        $('.requiredField').change( function() {
          checkRequiredFields();
        });

        // check if data for required fields is missing 
        function checkRequiredFields() {
          var missing = false;
          $('.requiredField').each( function() {
            if (!$(this).val()) {
              $('#notification-' + $(this).attr('id')).show();
              $(this).prev('.formField-label').css('color','red');
              missing = true;
            } else {
              $('#notification-' + $(this).attr('id')).hide();
              $(this).prev('.formField-label').css('color','black');
            }
          });
          if (!missing) {
            $('#container-missingFields').hide('fast');
          }
          return !missing;
        }

        // Call themeroller app
        $('#themeroller-container').click(function() {
          if (!/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)) {
            alert('Sorry, due to security restrictions, this tool only works in Firefox');
            return false;
          };
          if(window.jquitr) {
            jquitr.addThemeRoller();
          } else {
            jquitr = {};
            jquitr.s = document.createElement('script');
            jquitr.s.src = 'http://jqueryui.com/themeroller/developertool/developertool.js.php';
            document.getElementsByTagName('head')[0].appendChild(jquitr.s);
          }
        });

      });
    </script>
  </head>

  <!------------------------- BODY ------------------------->
  <body>
    <!-- BEGIN of stage -->
    <div id="stage" style="width:800px;padding: 12px 12px 12px 24px;">

      <!-- heading -->
      <div id="container-heading container">
        <center>
          <h2>
            Upload Recording - Simple HTML version
          </h2>
        </center>
      </div>

      <!-- missing fields notification -->
      <div id="container-missingFields" class="container ui-widget ui-state-error" style="display:none;">
        <div id="heading-missingFields" class="ui-widget-header ui-state-error">Missing Inputs</div>
        <div id="content-missingFields" class="ui-widget-content">
          <ul>
            <li id="notification-title" class="missing-fields-item">
              Please enter a <a href="javascript:document.basicData.title.focus();">title</a> for the recording.
            </li>
            <li id="notification-mediacontent" class="missing-fields-item">
              Please select the <a href="javascript:document.getElementById('mediacontent').focus();">media file content</a> -- the type of content the media file contains.
            </li>
            <li id="notification-track" class="missing-fields-item">
              Please select a <a href="javascript:document.getElementById('track').focus();">media file</a> to upload.
            </li>
          </ul>
        </div>
      </div>

      <form id="uploadForm" name="uploadForm" action="../rest/addMediaPackage" method="POST" enctype="multipart/form-data" accept-charset="UTF-8">

        <!-- basic metadata -->
        <div id="container-basicData" class="container ui-widget">
          <div id="content-basicData" class="ui-widget-content ui-helper-clearfix">
            <ul class="no-bullets formField-list">
              <!-- field: Title -->
              <li class="ui-helper-clearfix">
                <span class="formField-label"><span class="color-red">* </span>Title:</span>
                <input type="text" class="formField requiredField" id="title" name="title" required="true">
                <span class="helpIcon">&nbsp;</span>
              </li>
              <!-- field: Presenter -->
              <li class="ui-helper-clearfix">
                <span class="formField-label">Presenter:</span>
                <input type="text" class="formField" id="contributor" name="contributor">
                <span class="helpIcon">&nbsp;</span>
              </li>
              <!-- field: Sponsoring Department -->
              <li class="ui-helper-clearfix">
                <span class="formField-label">Sponsoring Department:</span>
                <input type="text" class="formField" id="department" name="department">
                <span class="helpIcon">&nbsp;</span>
              </li>
            </ul>
          </div>
        </div>

        <!-- additional metadata -->
        <div id="container-additionalData" class="container ui-widget">
          <div id="heading-additionalData" class="ui-widget-header collapse-control collapse-control-closed">Additional Description</div>
          <div id="content-basicData" class="ui-widget-content ui-helper-clearfix collapsable" style="display:none;">
            <ul class="no-bullets formField-list">
              <!-- field: Series -->
              <li class="ui-helper-clearfix">
                <span class="formField-label">Series:</span>
                <input type="text" class="formField" id="series" name="series">
                <span class="helpIcon">&nbsp;</span>
              </li>
              <!-- field: Subject -->
              <li class="ui-helper-clearfix">
                <span class="formField-label">Subject:</span>
                <input type="text" class="formField" id="subject" name="subject">
                <span class="helpIcon">&nbsp;</span>
              </li>
              <!-- field: Language -->
              <li class="ui-helper-clearfix">
                <span class="formField-label">Language:</span>
                <input type="text" class="formField" id="language" name="language">
                <span class="helpIcon">&nbsp;</span>
              </li>
              <!-- field: Description -->
              <li class="ui-helper-clearfix">
                <span class="formField-label">Description:</span>
                <textarea class="formField" id="description" name="description" rows="5"></textarea>
                <span class="helpIcon">&nbsp;</span>
              </li>
            </ul>
          </div>
        </div>

        <!-- distribution data -->
        <div id="container-additionalData" class="container ui-widget">
          <div id="heading-additionalData" class="ui-widget-header">Distribution</div>
          <div id="content-basicData" class="ui-widget-content ui-helper-clearfix">
            <ul class="no-bullets formField-list">
              <!-- field: Distribution channels -->
              <!-- <li class="ui-helper-clearfix">
                <span class="formField-label"><span class="color-red">* </span>Distribution Channel:</span>
                <input type="checkbox" class="formField" checked="true" disabled="true">
                <span style="float:left;">Matterhorn Media Module</span>
                <span class="helpIcon">&nbsp;</span>
              </li> -->
              <!-- field: License -->
              <li class="ui-helper-clearfix">
                <span class="formField-label">License:</span>
                <input type="text" class="formField" id="license" name="license">
                <span class="helpIcon">&nbsp;</span>
              </li>
            </ul>
          </div>
        </div>

        <!-- file upload -->
        <div id="container-additionalData" class="container ui-widget">
          <div id="heading-additionalData" class="ui-widget-header">File Upload</div>
          <div id="content-basicData" class="ui-widget-content ui-helper-clearfix">
            <ul class="no-bullets formField-list">
              <!-- field: Media File Content -->
              <!--
              <li class="ui-helper-clearfix">
                  <span class="formField-label"><span class="color-red">* </span>Media File Content:</span>
                  <select name="mediacontent" id="mediacontent" class="requiredField" style="float:left;margin:3px;" required="true">
                    <option value="">Choose one:</option>
                    <option value="audio">Audio</option>
                    <option value="video/presenter">Presenter (Video)</option>
                    <option value="video/audience">Audience (Video)</option>
                    <option value="video/slides">Presentation slides (video)</option>
                    <option value="video/other">Other document (video)</option>
                    <option value="other">Other (video)</option>
                  </select>
                  <span class="helpIcon">&nbsp;</span>
              </li> -->
              <!-- field: Media File -->
              <li class="ui-helper-clearfix">
                <span class="formField-label"><span class="color-red">* </span>Media File:</span>
                <input type="file" id="track" name="track" class="requiredField" style="float:left;">
                <span class="helpIcon">&nbsp;</span>
              </li>
              <li class="ui-helper-clearfix">
                <span class="formField-label">&nbsp;</span>
                <span>File must be 2GB or less</span>
              </li>
            </ul>
          </div>
        </div>

        <!-- submit/cancel controls -->
        <div id="container-additionalData" class="container ui-widget">
          <div id="content-basicData" class="ui-widget-content ui-helper-clearfix">
            <ul class="no-bullets formField-list">
              <!-- submit / cancal button -->
              <li class="ui-helper-clearfix">
                <span class="formField-label">&nbsp;</span>
                <input type="submit" id="btnSubmit" value="Submit">
                <button id="btnCancle" type="button" onclick="history.back();">Cancel</button>
                <!-- <a href="index.html" style="float:right;">Switch to AJAX upload form</a> -->
              </li>
              <!-- * = required -->
              <li class="ui-helper-clearfix">
                <span class="formField-label">&nbsp;</span>
                <span class="color-red">* </span>required
              </li>
            </ul>
          </div>
        </div>

      </form>

      <!-- END of stage -->
    </div>

    <!-- ThemeRoller link -->
    <div id="themeroller-container">
      <img src="img/themeroller.png" alt="Themeroller: change this UIs apperance">
    </div>

  </body>

</html>
